<div id="content">
	<div class="row">
		<big-breadcrumbs items="['网站结构','栏目管理']" icon="fa fa-lg fa-fw fa-sitemap" class="col-xs-12 col-sm-7 col-md-7 col-lg-4"></big-breadcrumbs>
		<div smart-include="/app/layout/partials/sub-header.tpl.html"></div>
	</div>
	<section id="widget-grid" data-widget-grid>
		<div class="row">
			<article class="col-sm-12">
				<div id="locked-widget-widget" data-jarvis-widget data-widget-color="blueDark" data-widget-togglebutton="false" data-widget-colorbutton="false" data-widget-editbutton="false" data-widget-deletebutton="false">
					<header>
						<h2>栏目</h2>
					</header>
					<div>
						<div class="widget-body no-padding">
							<!-- column table toolbar -->
							<div class="widget-body-toolbar">
								<div class="btn-toolbar">
									<div class="btn-group pull-left">
										<select name="siteId" ng-model="searchSiteId" ng-change="changeSiteHandler()" class="form-control">
											<option value="">按站点过滤</option>
											<option ng-repeat="item in sites" value="{{item.id}}">{{item.title}}</option>
										</select>
									</div>
									<div class="btn-group pull-right">
										<a ng-click="make($event,'LIST')" ng-disabled="!rowSelected" href="#" class="btn btn-default"><i class="fa fa-long-arrow-down"></i> 生成列表页</a> 
										<a ng-click="make($event,'CONTENT')" ng-disabled="!rowSelected" href="#" class="btn btn-default"><i class="fa fa-long-arrow-down"></i> 生成最终页</a> 
									</div>
									<div class="btn-group pull-right">
										<!-- <a ng-click="template($event,'list')" ng-disabled="!rowSelected" href="#" class="btn btn-default"><i class="fa fa-book"></i> 列表模板</a>
										<a ng-click="template($event,'content')" ng-disabled="!rowSelected" href="#" class="btn btn-default"><i class="fa fa-book"></i> 内容页模板</a> -->
									    <a ng-click="preview($event)" ng-disabled="!rowSelected" href="#" class="btn btn-default"><i class="fa fa-eye"></i> 预览</a>
									</div>
									<div class="btn-group pull-right">
										<a data-smart-jqui-dialog-launcher="#column_dialog" ng-click="createColumnHandler()" href="#" class="btn btn-default"><i class="fa fa-plus"></i> 创建 </a> <a data-smart-jqui-dialog-launcher="#column_dialog"
											ng-click="saveColumnHandler()" ng-disabled="!rowSelected" href="#" class="btn btn-default"><i class="fa fa-edit"></i> 修改 </a> <a href-void ng-click="removeColumnHandler()" ng-disabled="!rowSelected"
											class="btn btn-default pull-right"><i class="fa fa-minus"></i> 删除 </a>
									</div>
								</div>
							</div>
							<!-- columns table -->
							<table id="columns_table" datatable-treetable table-options="tableOptions" ng-click="selectTableRowHandler($event)" class="table table-striped table-bordered table-hover treetable" width="100%">
								<thead>
									<tr>
										<th>栏目名</th>
										<th>目录</th>
										<th>首页模板</th>
										<th>内容页模板</th>
										<th>数据源</th>
										<th>创建时间</th>
										<th>修改时间</th>
									</tr>
								</thead>
							</table>
						</div>
					</div>
			</article>
		</div>
	</section>

	<!-- column form dialog-->
	<div id="column_dialog" data-smart-jqui-dialog data-modal="true" data-append-to="#content">
		<div data-dialog-title>
			<div class='widget-header'>
				<h4>
					<i class='{{columnDialog.icon}}'></i> <span>{{columnDialog.title}}</span>
				</h4>
			</div>
		</div>
		<column-form></column-form>
		<div data-dialog-buttons>
			<button type="button" class="btn" data-action="submitColumnFormHandler()">
				<i class='fa fa-check'></i>&nbsp; 确定
			</button>
			<button type="button" class="btn" data-action="cancelColumnFormHandler()">
				<i class='fa fa-ban'></i>&nbsp; 取消
			</button>
		</div>
	</div>
	<!-- end column form dialog-->
</div>